<head>
  <script src="database.js"></script>
  <script>
    function topbarButton(Page) {
      window.location.href = Page;
    }
  </script>
    <script src="database.js"></script>
	<script>
        function search() {
            var searchbox = document.getElementById("search")
            if (searchbox.value.length == 0) {
                return
            }
            var container = document.getElementById("response")
            container.innerHTML = ""
            var id = 0
            var found = false
            ///
            for(let movie of dataBase) {
                var split = (movie.name.toLowerCase()+movie.tags.toLowerCase()).split(searchbox.value.toLowerCase());
                if(split.length != 1) {
                    var html = `
                    <a style="color: inherit;" href="view.html?id=${id}">${movie.name}</a><br>
                    `
                    container.insertAdjacentHTML("beforeend",html)
                    found = true
                }
                id=id+1
            }
            if(!found) {
                container.insertAdjacentHTML("beforeend",`<a href='view.html?id=${Math.floor((Math.random() * dataBase.length))}' style='color: red;'>No results, click for a random film.</a>`);
            }
            ///
            searchbox.value = ""
        }
	</script>
  <style>
    .topbar {
      text-algin: center;
      font-size: 20px;
      color: #ffffff;
      margin: 0px 20%;
	  background-color: #2c2f33;
    }
    
    .topbarButton {
      width: 15%;
      color: #ffffff;
      background-color: #7289da;
      border: none;
      margin: 0px 5px;
    }
    
	body {
	 background-color: #23272a;
	}

    .mainbody {
      color: #ffffff;
	  background-color: #2c2f33;
	  margin: 10px 20%;
      position.y: absolute;
    }
  </style>
</head>
<body>
  <div class="topbar">
    <a style="color: inherit;" href="index.html"><h1 style="text-align: center;">Picture House</h1></a>
    <div style="margin: 0px 20px;">
      <button class="topbarButton" onclick="topbarButton('new.html')">
        New
      </button>
      <button class="topbarButton" onclick="topbarButton('videoindex.html')">
        Index
      </button>
      <button class="topbarButton" onclick="topbarButton('search.html')">
        Search
      </button>
            <button class="topbarButton" onclick="topbarButton('favorites.html')">
      Favorites
      </button>
    </div>
</div>


<div class="mainbody">
<br>
	<input id="search" placeholder="Enter Keyword..."><button onclick="search()">Search</button>
    <div id="response">
    </div>
</div>

</body>

